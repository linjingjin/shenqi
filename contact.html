<!--[if lt IE 10]><script>window.location.href="error/index.html"</script><![endif]-->
<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>神奇科技-工业软件服务商</title>
  <meta name="keywords" content="神奇科技">
  <meta name="description" content="神奇(SHENQI.COM)可视化应用的智能制造整体解决方案提供商">
  <link rel="stylesheet" href="css/jquery.bxslider.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/dll.css">
  <script src="js/rem.js"></script>
  <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=Q0ZvAI1nsB5rNPxenTqrh59w"></script><!--地图周边JS-->
</head>
<body>
<!-- head start -->
<div class="header">
  <nav class="shenqi navbar navbar-default ">
    <div class="navbar-header rel idx-1">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img src="images/logo.png"></a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="index.html">首页</a></li>
        <li><a href="aboutUs.html">关于神齐</a></li>
        <li><a href="products.html">产品介绍</a></li>
        <li><a href="business.html">业务介绍</a></li>
        <li><a href="service.html">客户服务</a></li>
        <li><a href="news.html">新闻中心</a></li>
        <li><a href="contact.html">联系我们</a></li>
        <li class="m-language"><span>中文</span><span href="#">英文</span></li>
      </ul>
      <ul class="navbar-right">
        <li class="language"><a href="#">简</a></li>
        <li class="language"><a href="#">EN</a></li>
        <li>
          <div class="search">
            <div class="search_bgfff">
              <div class="search_text01"><input type="text" class="search_text02"  placeholder="请输入关键字"></div>
              <input type="button" class="search_button" />
            </div>
          </div>
        </li>
      </ul>
    </div>
  </nav>
</div>
<!-- head end -->
<div class="p-banner" style="background-image: url(images/p-banner.jpg);">    
  <div class="bannerInfo">
    <h2>联系方式</h2>
    <h3>contact us</h3>
  </div>
</div>

<div class="Pro_Anchor">
<div class="tabs-line"></div>
  <div class="container">
    <div style="overflow-x: auto;">
      <div class="product-nav">
        <ul>
          <li class="active menuItem"><a href="#contact"><span>联系我们</span></a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div id="contact">
  <div class="container">
    <div class="p-title"><span>联系我们</span></div>  
    <div class="contact-box">
      <div class="contact-addr">
          <div class="addr">
            <h2>联系神齐</h2>
            <p>公司：上海神齐信息科技有限公司</p>
            <p>地址：上海市宝山区水产路1269号吴淞口创业园313室</p>
            <p>电话：021-56390325</p>
            <p>传真：021-56390325</p>
            <p>网址：http://www.shenqi.com</p>
            <p>邮箱联系方式：</p>
            <p>E-mail : 13859948882@163.com</p>
          </div>
          <div class="code">
            <dl>
              <dt><img src="images/t-code.png"></dt>
              <dd>企业公众号</dd>
            </dl>
            <dl>
              <dt><img src="images/t-code.png"></dt>
              <dd>企业公众号</dd>
            </dl>
          </div>
      </div>
      <div class="p-map">
        <div class="map_div">
            <style>
              #Map{ width:100%;  float:left; height:353px;  }
            </style>
            <div id="tiaojian" style="display:none"> 中心点坐标：
              <input id="CenterPoint" type="text" value="121.492927,31.388589"/>
              地图级数：
              <input style="width:60px;" id="MapLevel" type="text" value="16"/>
              中心点名称：
              <input style="width:150px;" id="CenterName" type="text" value="神齐科技"/>
            </div>
            <div id="Map"></div>
          </div>
      </div> 
    </div>
  </div>
</div>
<div class="foot">
  <div class="container">
    <div class="meun">
      <div class="link fl">
        <select>
          <option>友情链接</option>
        </select>
      </div>
      <div class="meun-box">
      <a href="aboutUs.html">关于神齐</a>|<a href="business.html">业务介绍</a>|<a href="contact.html">联系我们</a>
      </div>
    </div>
    <div class="copyright">CopyRight © 2019-2024  版权所有上海神齐信息科技有限公司 沪ICP备10008894号 </div>
  </div>  
</div>
<div class="go-top dn" ><a href="javascript:;"><img src="images/go-top.png" alt=""></a></div>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/main.js"></script>
<script src="js/stickUp.min.js"></script>
<script src="js/timeSlide.js"></script>
<script type="text/javascript">
  $(function(){
    let firstTab = $('.Pro_Anchor ul li').eq(0);
    $('.tabs-line').stop().animate({
      width:firstTab.offset().left + firstTab.width()
    },200)
    $(window).scroll(function(){
      $('.Pro_Anchor ul li').each(function(i){
          let index = 0;
          if($(this).hasClass('active')){
            let left = $(this).offset().left
            $('.tabs-line').stop().animate({
              width:left + $(this).width()
            },200)
            index = i
          }
      })
    })
  })
    jQuery(function($) {
      $(document).ready( function() {
        $('.Pro_Anchor').stickUp({
            parts: {
                0:'contact',
              },
              itemClass: 'menuItem',
              itemHover: 'active',
              topMargin: "auto"
            });   
      });
    });
</script>
<!-- 地图 -->
<script type="text/javascript">
var mMapAPIHandler = null;
window.onload = function() {
    Init();

}
function Init() {
    var l = $("#CenterPoint").val().split(",")[0];
    var t = $("#CenterPoint").val().split(",")[1];
    var v = $("#MapLevel").val();
    var n = $("#CenterName").val();

    //实例化地图操作类
    mMapAPIHandler = new MapAPIHandler();

    //初始化地图，传入中心点经度，纬度和名称
    mMapAPIHandler.InitializeComponent(l, t, n, v);
}
//搜索

//SPAN IMG点击效果
function Search(distance) {
    $(".mall_tab span").click(function() {
        mMapAPIHandler.ClearAll();
        var keys = new Array();
      var keyWords = $(this).attr("title");
    mMapAPIHandler.SearchCircle(keyWords);    
    });
}

//百度地图操作
//author:pengyaou
function MapAPIHandler() {
    this.currentBdMap = null; //百度地图
    this.currentCenterPoint = null; //中心点坐标
    this.currentName; //中心点名称
    this.currentCenterImg; //中心点图标
    this.currentLevel; //地图级数
    this.currentDistance;
    this.flag = false;
    this.currentCircle;
    //初始化
    this.InitializeComponent = function(longitude, latitude, centerName, mapLevel) {
        this.currentLevel = mapLevel;
        this.currentName = centerName;
        this.currentCenterImg = "images/point.png";
        this.SetCenter(longitude, latitude, mapLevel);
        Search(this.currentDistance);
    }

    //传入中心点经度,纬度,地图切片级数,创建百度地图实例，并且指定中心点位置
    this.SetCenter = function(longitude, latitude, mapLevel) {
        //实例化百度地图，指定中心点
        this.currentBdMap = new BMap.Map("Map", {
           /* minZoom: mapLevel,
            maxZoom: mapLevel*/
        });
        this.currentLevel = mapLevel;
        this.currentBdMap.enableScrollWheelZoom(true);
        this.currentCenterPoint = new BMap.Point(longitude, latitude);
        this.currentBdMap.centerAndZoom(this.currentCenterPoint, mapLevel);
        this.currentDistance = this.MapDistance() /2;  /*设置 圆显示的范围，越小范围越大*/
        this.CreatCenter(this.currentCenterPoint, this.currentCenterImg);
    }
    this.MoveToCenter=function(){
    this.currentBdMap.panTo(this.currentCenterPoint);
  }
    //创建地图中心点标注图标
    this.CreatCenter = function(centerPoint, ico, txt) {
        var myIcon = new BMap.Icon(ico, new BMap.Size(60, 60));
        var marker2 = new BMap.Marker(this.currentCenterPoint, {
            icon: myIcon
        }); // 创建标注
        var label = new BMap.Label(this.currentName, {
            offset: new BMap.Size(20, -10)
        }); // 创建标注
        label.setStyle({
            borderColor: "#808080",
            color: "#333",
            fontSize: "12px",
            height: "20px",
            display:'inline-table',
            lineHeight: "20px",
            fontFamily: "微软雅黑"
        });
        marker2.setLabel(label);
        this.currentBdMap.addOverlay(marker2);
    }

    //根据关键字检索周边信息
    this.searchNear = function(keyWords, locationName) {
        var local = new BMap.LocalSearch(this.currentBdMap, {
            renderOptions: {
                map: this.currentBdMap
            }
        });
        local.searchNearby(keyWords, locationName);
    }

    //根据关键字检索周边信息
    this.SearchNewrDistance = function(keyWords, distance) {
        this.currentDistance = distance;
        var local = new BMap.LocalSearch(this.currentBdMap, {
            renderOptions: {

                map: this.currentBdMap,
                autoViewport: true
            }
        });
        local.searchNearby(keyWords, this.currentCenterPoint, distance);

        if (this.flag == false) {
            this.flag = true;
            var circle = new BMap.Circle(this.currentCenterPoint, this.currentDistance, {
                strokeColor: "#0075C7",
                strokeWeight: 1,
                fillColor: "#333",
                fillOpacity: 0.2,
                strokeOpacity: 0.8
            }); //创建圆
            this.currentBdMap.addOverlay(circle);
        }
    }
    //圆形范围关键字搜索
    this.SearchCircle = function(keyWords) {
    if (this.flag == false) {
            this.flag = true;
            this.currentCircle = new BMap.Circle(this.currentCenterPoint, this.currentDistance, {
            strokeColor: "#ffd075",
            strokeWeight: 1,
            fillColor: "#ffd075",
            fillOpacity: 0.2,
            strokeOpacity:0.5
            }); //创建圆
            this.currentBdMap.addOverlay(this.currentCircle);
    }
        var locals = new BMap.LocalSearch(this.currentBdMap, {
            renderOptions: {
                map: this.currentBdMap,
                autoViewport: false
            }
        });
        var bounds = getSquareBounds(this.currentCircle.getCenter(), this.currentCircle.getRadius(), this.currentBdMap);
        locals.searchInBounds(keyWords, bounds);

        function getSquareBounds(centerPoi, r, map) {
            var a = Math.sqrt(3) * r; //正方形边长   /*设置  搜索的范围，越大范围越大*/
            mPoi = getMecator(centerPoi, map);
            var x0 = mPoi.x,
            y0 = mPoi.y;

            var x1 = x0 + a / 2,
            y1 = y0 + a / 2; //东北点
            var x2 = x0 - a / 2,
            y2 = y0 - a / 2; //西南点
            var ne = getPoi(new BMap.Pixel(x1, y1), map),
            sw = getPoi(new BMap.Pixel(x2, y2), map);
            return new BMap.Bounds(sw, ne);

        }
        //根据球面坐标获得平面坐标。
        function getMecator(poi, map) {
            return map.getMapType().getProjection().lngLatToPoint(poi);
        }
        //根据平面坐标获得球面坐标。
        function getPoi(mecator, map) {
            return map.getMapType().getProjection().pointToLngLat(mecator);
        }
    }

    //获取当前地图的显示范围（距离）
    this.MapDistance = function() {
        var bs = this.currentBdMap.getBounds(); //获取可视区域
        var bssw = bs.getSouthWest(); //可视区域左下角
        var bsne = bs.getNorthEast(); //可视区域右上角
        return this.GetDistance(bssw, bsne);
    }

    //获取两点距离
    this.GetDistance = function(pointA, pointB) {
        return this.currentBdMap.getDistance(pointA, pointB).toFixed(0);
    }

    //清除所有遮罩层，同时生成中心点图标
    this.ClearAll = function() {
        this.flag = false;
        this.currentBdMap.clearOverlays();
        this.CreatCenter(this.currentCenterPoint, this.currentCenterImg);
    }
}
</script>
</body>
</html>
